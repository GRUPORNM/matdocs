sap.ui.define(["./BaseController", "sap/ui/model/json/JSONModel"], function (e, t) { "use strict"; return e.extend("matdocs.controller.NotFound", { onInit: function () { var e = new t; this.getView().setModel(e, "NotFound"); var r = this.getRouter(); r.attachRouteMatched(this.onRouteMatched, this) }, onRouteMatched: function () { var e = this; var t = new URLSearchParams(window.location.search); var r = t.get("token"); if (r != null) { var o = new Headers; o.append("X-authorization", r); var n = { method: "GET", headers: o, redirect: "follow" }; fetch("/sap/opu/odata/TQA/AUTHENTICATOR_SRV/USER_AUTHENTICATION", n).then(function (e) { if (!e.ok) { throw new Error("Ocorreu um erro ao ler a entidade.") } return e.text() }).then(function (t) { var r = new DOMParser; var o = r.parseFromString(t, "text/xml"); var n = o.getElementsByTagName("d:SuccessResponse")[0]; var a = n.textContent; if (a == "X") { e.getRouter().navTo("materialdocuments") } }).catch(function (e) { console.error(e) }) } } }) });
//# sourceMappingURL=NotFound.controller.js.map